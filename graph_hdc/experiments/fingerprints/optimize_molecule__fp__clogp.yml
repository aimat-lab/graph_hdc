# PyComex configuration file for CLogP optimization on AqSolDB using Fingerprints
pycomex: true

extend: optimize_molecule__fp.py

include: mixin_clogp.py

name: optimize_fp_aqsoldb_clogp

description: |
  Fingerprint-based molecular representation optimization for CLogP prediction on AqSolDB.

  This experiment uses the AqSolDB dataset structure but optimizes for CLogP
  (calculated LogP) values computed via RDKits Crippen method instead of the
  default logS (aqueous solubility) values.

  The mixin_clogp.py calculates CLogP values for all molecules and replaces the
  graph_labels, which are then used as the target property for optimization.

parameters:

  SEED: null

  DATASET_NAME: "aqsoldb"
  DATASET_NAME_ID: "aqsoldb_clogp"

  # Target property
  TARGET_INDEX: 0  # First (and only) target after mixin replaces labels with CLogP
  TARGET_VALUE: 8.0

  # Fingerprint parameters
  FINGERPRINT_TYPE: "morgan"
  FINGERPRINT_SIZE: 2048
  FINGERPRINT_RADIUS: 3

  # Ensemble parameters
  ENSEMBLE_SIZE: 10
  BOOTSTRAP_FRACTION: 0.8
  MAX_EPOCHS: 100
  USE_BEST_MODEL_RESTORER: false

  # Optimization parameters
  NUM_OPTIMIZATION_SAMPLES: 500
  OPTIMIZATION_EPOCHS: 200
  OPTIMIZATION_LEARNING_RATE: 0.1
  OPTIMIZATION_LEARNING_RATE_REDUCTION: 0.1
  PCA_OPTIMIZATION_COMPONENTS: 3
  UNCERTAINTY_WEIGHT: 1.0
  ENABLE_GRADIENT_CLIPPING: true
  TRAJECTORY_SAMPLING_INTERVAL: 10
  ORIGINAL_DISTANCE_WEIGHT: 0.0
  DISTANCE_METRIC: "cosine"

  # Dataset splits
  NUM_TEST: 0.5
  NUM_TRAIN: 1.0
  NUM_VAL: 0.1

  # Other
  PLOT_INDIVIDUAL_TRAJECTORIES: true
